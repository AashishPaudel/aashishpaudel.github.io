<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Aashish Paudel — Portfolio</title>
<style>
  :root {
    --bg: #f9f9fb;
    --primary: #6349ff;
    --secondary: #7B62FF;
    --text-primary: #222;
    --text-muted: #666;
    --card-bg: #fff;
    --border-radius: 14px;
    --shadow: rgba(0,0,0,0.12);
    --max-width: 1100px;
    font-family: 'Inter', sans-serif;
  }

  html, body {
    margin: 0; padding: 0; height: 100%;
    background: var(--bg);
    color: var(--text-primary);
  }
  body {
    display: flex;
    flex-direction: column;
    min-height: 100vh;
  }

  header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 24px 32px;
    background: var(--primary);
    color: white;
  }

  header h1 {
    font-weight: 700;
    margin: 0;
    font-size: 24px;
  }

  nav a {
    margin-left: 24px;
    text-decoration: none;
    color: white;
    font-weight: 600;
    font-transform: uppercase;
    letter-spacing: 1.2px;
  }

  nav a:hover {
    color: #d3cfff;
  }

  main {
    flex: 1 0 auto;
    max-width: var(--max-width);
    margin: 40px auto;
    padding: 0 20px;
  }

  .tabs {
    display: flex;
    justify-content: center;
    gap: 28px;
    margin: 40px 0;
  }

  .tab-button {
    font-weight: 700;
    font-size: 16px;
    padding: 10px 24px;
    border-radius: var(--border-radius);
    background: var(--card-bg);
    box-shadow: 0 4px 18px var(--shadow);
    cursor: pointer;
    color: var(--text-primary);
    border: none;
    transition: background 0.3s ease, color 0.3s ease;
  }

  .tab-button.active {
    background: var(--primary);
    color: white;
  }

  section.tab-panel {
    display: none;
  }
  section.tab-panel.active {
   display: block;
  }

  /* Projects grid */
  .projects-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill,minmax(320px,1fr));
    gap: 30px;
  }

  .project-card {
    background: var(--card-bg);
    border-radius: var(--border-radius);
    padding: 18px;
    box-shadow: 0 8px 24px var(--shadow);
    cursor: pointer;
    display: flex;
    flex-direction: column;
    transition: box-shadow 0.3s ease;
  }

  .project-card:hover {
    box-shadow: 0 14px 40px var(--shadow);
  }

  .project-title {
    font-weight: 800;
    font-size: 20px;
    margin-bottom: 8px;
    color: var(--primary);
  }
  .project-description {
    font-weight: 400;
    font-size: 14px;
    color: var(--text-muted);
    margin-bottom: auto;
  }

  /* Tableau project viewer */
  .tableau-slider {
    max-width: 700px;
    margin: 0 auto 60px;
    background: var(--card-bg);
    border-radius: var(--border-radius);
    box-shadow: 0 8px 26px var(--shadow);
    overflow: hidden;
  }
  .tableau-iframe {
    width: 100%;
    height: 480px;
    border: none;
    border-radius: var(--border-radius);
  }

  /* Controls */
  .slider-controls {
    display: flex;
    justify-content: center;
    gap: 14px;
    padding: 16px 0;
  }

  .slider-controls button {
    background: var(--primary);
    border: none;
    color: white;
    border-radius: 8px;
    padding: 12px 22px;
    font-weight: 600;
    cursor: pointer;
    font-size: 14px;
    transition: background 0.3s ease;
  }
  .slider-controls button:hover:not(:disabled) {
    background: var(--secondary);
  }
  .slider-controls button:disabled {
    background: #b0aaff;
    cursor: not-allowed;
  }

  /* Skils list in header right */
  .skills-menu {
    display: flex;
    gap: 12px;
    flex-wrap: wrap;
    font-weight: 700;
    font-size: 14px;
    color: #fff;
    max-width: 300px;
  }
  .skill-chip {
    background: #6a5eff;
    padding: 6px 12px;
    border-radius: 24px;
    user-select: none;
  }

  /* Education */
  .education-section {
    background: var(--card-bg);
    border-radius: var(--border-radius);
    padding: 24px;
    margin-top: 60px;
    max-width: 650px;
    box-shadow: 0 9px 30px var(--shadow);
  }
  .education-section h2 {
    font-weight: 900;
    font-size: 24px;
    margin-bottom: 18px;
    color: var(--primary);
  }
  .education-section ul {
    padding-left: 20px;
    color: var(--text-muted);
  }
  .education-section ul li {
    line-height: 2;
    font-size: 15px;
  }

  /* PDF Modal */
  #pdfModal {
    display: none;
    position: fixed;
    top: 0; left: 0; width: 100%; height: 100%;
    background: rgba(0, 0, 0, 0.8);
    z-index: 9999;
    justify-content: center;
    align-items: center;
  }
  #pdfContent {
    width: 80%;
    max-width: 900px;
    height: 80vh;
    background: var(--card-bg);
    border-radius: var(--border-radius);
    overflow: hidden;
    position: relative;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
  }
  #pdfCanvas {
    max-width: 100%;
    max-height: 100%;
  }
  #pdfClose {
    position: absolute;
    top: 10px;
    right: 20px;
    font-size: 32px;
    cursor: pointer;
    color: var(--primary);
    font-weight: 900;
    z-index: 10000;
  }
  #downloadBtn {
    position: absolute;
    top: 10px;
    left: 20px;
    background: var(--primary);
    color: white;
    border: none;
    padding: 10px 20px;
    border-radius: 12px;
    font-weight: 700;
    cursor: pointer;
    z-index: 10000;
    display: none;
  }
  #pageInfo {
    position: absolute;
    bottom: 12px;
    right: 20px;
    color: var(--text-muted);
    font-weight: 700;
    font-size: 15px;
    z-index: 10000;
  }
  #pdfNav {
    display: flex;
    justify-content: center;
    gap: 12px;
    margin-bottom: 12px;
  }
  #pdfNav button {
    background: var(--primary);
    border: none;
    border-radius: 8px;
    color: white;
    padding: 10px 16px;
    cursor: pointer;
    font-weight: 700;
  }
  #pdfNav button:disabled {
    background: #bbafff;
    cursor: default;
  }

  @media (max-width: 900px) {
    header { padding: 16px; }
    main { margin: 20px; }
    .projects-grid { grid-template-columns: 1fr; }
  }
</style>
</head>
<body>

<header>
  <h1>Aashish Paudel</h1>
  <nav aria-label="Main Site Navigation">
    <a href="#education-certifications">Education & Certifications</a>
  </nav>
  <div class="skills-menu" aria-label="Skills Menu">
    <div class="skill-chip">Python (Pandas)</div>
    <div class="skill-chip">SQL</div>
    <div class="skill-chip">Tableau</div>
    <div class="skill-chip">SAS</div>
    <div class="skill-chip">dbt</div>
    <div class="skill-chip">Financial Modeling</div>
  </div>
</header>

<main>
  <section class="about-section" id="about-me" aria-label="About Me">
    <h2>About Me</h2>
    <p>I build financial strategies with data-driven insights, modeling, and analysis. Connect with me to see how I can help your business grow.</p>
  </section>

  <nav role="tablist" class="tabs" aria-label="Portfolio Sections">
    <button class="tab-button active" role="tab" aria-selected="true" aria-controls="projects" id="tab-projects" data-tab="projects">Projects</button>
    <button class="tab-button" role="tab" aria-selected="false" aria-controls="resume" id="tab-resume" data-tab="resume">Resume</button>
    <button class="tab-button" role="tab" aria-selected="false" aria-controls="case-studies" id="tab-case-studies" data-tab="case-studies">Case Studies</button>
    <button class="tab-button" role="tab" aria-selected="false" aria-controls="research-papers" id="tab-research-papers" data-tab="research-papers">Research Paper</button>
  </nav>

  <section id="projects" class="tab-panel active" role="tabpanel" aria-labelledby="tab-projects">
    <h3>Tableau Projects</h3>
    <div class="tableau-slider">
      <iframe id="tableau-iframe" class="tableau-iframe" src="https://public.tableau.com/views/SampleSuperstore/SalesOverview" allowfullscreen></iframe>
      <div class="slider-controls">
        <button id="prevProjectBtn">Previous</button>
        <button id="nextProjectBtn">Next</button>
      </div>
    </div>
  </section>

  <section id="resume" class="tab-panel" role="tabpanel" aria-labelledby="tab-resume">
    <h3>My Resume</h3>
    <button class="btn" onclick="openPDF('assets/resume/Resume.pdf')">View & Download Resume</button>
  </section>

  <section id="case-studies" class="tab-panel" role="tabpanel" aria-labelledby="tab-case-studies">
    <h3>Case Studies</h3>
    <div class="projects-grid" id="caseStudiesGrid">
      <!-- case study cards populated dynamically -->
    </div>
  </section>

  <section id="research-papers" class="tab-panel" role="tabpanel" aria-labelledby="tab-research-papers">
    <h3>Research Papers</h3>
    <p>No research papers uploaded yet.</p>
  </section>

  <section id="education-certifications" class="education-section" aria-label="Education & Certifications">
    <h2>Education & Certifications</h2>
    <ul>
      <li>Bachelor of Science (Hons) Computing — London Metropolitan University</li>
      <li>Basic Finance for Managers — Webster University</li>
      <li>Applied Business Statistics — Webster University</li>
      <li>Pricing — Webster University</li>
    </ul>
  </section>
</main>

<footer>
  <p>© <span id="year"></span> Aashish Paudel — Financial Analytics Portfolio</p>
</footer>

<!-- PDF Viewer Modal -->
<div id="pdfModal" role="dialog" aria-modal="true" aria-labelledby="pdfHeading" aria-describedby="pdfDesc">
  <div id="pdfContent">
    <button id="downloadBtn" aria-label="Download PDF">Download PDF</button>
    <div id="pdfClose" aria-label="Close PDF viewer" onclick="closePDF()">&times;</div>
    <div id="pageInfo" aria-live="polite"></div>
    <canvas id="pdfCanvas" role="document"></canvas>
    <div id="pdfNav">
      <button id="prevPageBtn">Previous</button>
      <button id="nextPageBtn">Next</button>
    </div>
  </div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.9.179/pdf.min.js"></script>
<script>
  const tabs = document.querySelectorAll('.tab-button');
  const panels = document.querySelectorAll('.tab-panel');
  const caseStudiesGrid = document.getElementById('caseStudiesGrid');

  // Populate case studies dynamically
  const caseStudies = [
    {
      title: 'Pricing and Channel Strategy Analysis for Premium Product',
      desc: 'This project involves pricing analysis and product strategy in a complex product pricing and channel strategy scenario...',
      pdfUrl: 'assets/case-studies/CaseStudy4.pdf'
    }
    // add more as needed
  ];

  function populateCaseStudies() {
    caseStudiesGrid.innerHTML = '';
    caseStudies.forEach(study => {
      const card = document.createElement('div');
      card.classList.add('project-card');
      card.innerHTML = `
        <h4 class="project-title">${study.title}</h4>
        <p class="project-description">${study.desc}</p>
        <button class="btn" onclick="openPDF('${study.pdfUrl}')">View Case Study</button>
      `;
      caseStudiesGrid.appendChild(card);
    });
  }
  populateCaseStudies();

  // Tab navigation
  tabs.forEach(tab => {
    tab.addEventListener('click', () => {
      tabs.forEach(t => {
        t.classList.remove('active');
        panels.forEach(p => p.classList.remove('active'));
      });
      tab.classList.add('active');
      const panel = document.getElementById(tab.dataset.tab);
      panel.classList.add('active');
    });
  });

  // Tableau projects iframe URLs (one by one)
  const tableauProjects = [
    'https://public.tableau.com/views/RegionalSampleWorkbook/Storms', // Example Project URL 1
    'https://public.tableau.com/views/Superstore/SalesOverview' // Example Project URL 2
  ];
  let currentProjectIndex = 0;
  const iframe = document.getElementById('tableau-iframe');
  const nextBtn = document.getElementById('nextProjectBtn');
  const prevBtn = document.getElementById('prevProjectBtn');

  function updateIframe() {
    iframe.src = tableauProjects[currentProjectIndex];
    prevBtn.disabled = currentProjectIndex === 0;
    nextBtn.disabled = currentProjectIndex === tableauProjects.length - 1;
  }
  nextBtn.addEventListener('click', () => {
    if(currentProjectIndex < tableauProjects.length - 1) {
      currentProjectIndex++;
      updateIframe();
    }
  });
  prevBtn.addEventListener('click', () => {
    if(currentProjectIndex > 0) {
      currentProjectIndex--;
      updateIframe();
    }
  });
  updateIframe();

  // PDF Modal with pdfjs
  let pdfDoc = null, pageNum = 1;
  const canvas = document.getElementById('pdfCanvas');
  const ctx = canvas.getContext('2d');
  const downloadBtn = document.getElementById('downloadBtn');
  const pdfModal = document.getElementById('pdfModal');

  document.getElementById('year').textContent = new Date().getFullYear();

  function openPDF(url) {
    pdfModal.style.display = 'flex';
    pdfjsLib.getDocument(url).promise.then(pdf => {
      pdfDoc = pdf;
      pageNum = 1;
      renderPage(pageNum);
      if(url.toLowerCase().includes('resume.pdf')) {
        downloadBtn.style.display = 'inline-block';
        downloadBtn.onclick = () => {
          const a = document.createElement('a');
          a.href = url;
          a.download = 'Resume.pdf';
          a.click();
        };
      } else {
        downloadBtn.style.display = 'none';
      }
    });
  }

  document.getElementById('pdfClose').addEventListener('click', closePDF);
  document.getElementById('prevPageBtn').addEventListener('click', () => {
    if(pdfDoc && pageNum > 1) {
      pageNum--;
      renderPage(pageNum);
    }
  });
  document.getElementById('nextPageBtn').addEventListener('click', () => {
    if(pdfDoc && pageNum < pdfDoc.numPages) {
      pageNum++;
      renderPage(pageNum);
    }
  });

  function renderPage(num) {
    pdfDoc.getPage(num).then(page => {
      const viewport = page.getViewport({ scale: 1 });
      const maxHeight = pdfContent.clientHeight*0.96;
      const scale = 3 * maxHeight / viewport.height;
      const scaledViewport = page.getViewport({ scale });
      canvas.width = scaledViewport.width;
      canvas.height = scaledViewport.height;
      canvas.style.height = maxHeight + "px";
      canvas.style.width = scaledViewport.width * maxHeight / scaledViewport.height + "px";
      page.render({ canvasContext: ctx, viewport: scaledViewport });
      document.getElementById('pageInfo').textContent = `Page ${num} of ${pdfDoc.numPages}`;
    });
  }
  function closePDF() {
    pdfModal.style.display = 'none';
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    pdfDoc = null;
  }
</script>

</body>
</html>
